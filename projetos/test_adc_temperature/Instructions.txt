ğŸ“œ Passo a passo para configurar testes Unity no PC para projeto da Raspberry Pi Pico
ğŸ¯ Objetivo
Rodar os testes unitÃ¡rios (tests) usando Unity diretamente no Windows (no PC), gerando um executÃ¡vel .exe, sem precisar carregar firmware na Pico.

ğŸ“‚ OrganizaÃ§Ã£o de pastas
No projeto, crie duas pastas separadas de build:

build/ â” Para gerar firmware .uf2 da Pico.

build-host/ â” Para compilar testes no seu PC (Windows/Linux).

Por que?
Separar os ambientes evita conflitos de toolchain:

Pico usa compilador ARM (cross-compile).

PC usa compilador nativo (gcc ou clang).

ğŸ› ï¸ ConfiguraÃ§Ã£o do CMakeLists.txt
Foi adicionado ao CMakeLists.txt a lÃ³gica:

cmake
Copiar
Editar
if (CMAKE_SYSTEM_NAME STREQUAL "Windows" OR CMAKE_SYSTEM_NAME STREQUAL "Linux")
    set(BUILDING_FOR_HOST TRUE)
else()
    set(BUILDING_FOR_HOST FALSE)
endif()
Assim o CMake sabe quando estÃ¡ configurando para:

ğŸ–¥ï¸ PC (Windows/Linux) â” testes (tests.exe)

ğŸ›œ Pico (ARM Cortex-M0+) â” firmware (.uf2)

ğŸ—ï¸ InstruÃ§Ãµes para construir os testes no PC
Apague a pasta build-host/ se ela jÃ¡ existir:

powershell
Copiar
Editar
Remove-Item -Recurse -Force .\build-host\
Crie a pasta de build novamente:

powershell
Copiar
Editar
mkdir build-host
cd build-host
Rode o cmake especificando o gerador do MinGW:

powershell
Copiar
Editar
cmake .. -G "MinGW Makefiles"
ğŸ“Œ Por que usar MinGW Makefiles?
Porque o gerador padrÃ£o (NMake Makefiles) exige ambiente configurado (Developer Command Prompt do Visual Studio).
MinGW Ã© mais leve e jÃ¡ funciona no PowerShell se estiver no PATH.

Compile o projeto tests:

powershell
Copiar
Editar
cmake --build . --target tests
Execute o binÃ¡rio de testes:

powershell
Copiar
Editar
.\tests.exe
ğŸ“Œ Importante:
Antes de executar, verifique que o terminal reconhece o MinGW (gcc --version).

âš¡ Erros comuns e soluÃ§Ãµes

Erro	Causa	SoluÃ§Ã£o
Error: generator does not match previously used	Tentou mudar o tipo de build sem limpar	Apagar CMakeCache.txt ou a pasta inteira
CMAKE_C_COMPILER not set	NÃ£o encontrou compilador nativo	Instalar MinGW ou abrir Developer Command Prompt
Nada aparece no terminal	Programa termina rÃ¡pido	Adicionar sleep_ms(5000) ou while(true) no final dos testes
ğŸ§  Resumo geral
Firmware e testes precisam de toolchains diferentes.

Testes no PC precisam ser configurados como projetos nativos no CMake.

Separar pastas evita misturar builds (build/ para Pico, build-host/ para PC).

Usar o MinGW facilita compilar testes no Windows sem dependÃªncias pesadas.

âœ… Resultado
Agora Ã© possÃ­vel:

Compilar e rodar testes Unity rapidamente no PC.

Compilar o firmware .uf2 separado para enviar Ã  Raspberry Pi Pico.

Manter o projeto organizado e multiplataforma.